DELIMITER //
DROP PROCEDURE IF EXISTS up_ImportStudent //
CREATE PROCEDURE up_ImportStudent(
    IN pEmail VARCHAR(255),
    IN pStudentId VARCHAR(20),
    IN pFirstName VARCHAR(255),
    IN pLastName VARCHAR(255),
    IN pGender VARCHAR(10),
    IN pPassword VARCHAR(500)
)
BEGIN
    DECLARE avatar_male TEXT DEFAULT 'data:image/jpeg;base64,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';
    IF (SELECT EXISTS(SELECT 1 FROM users WHERE student_id = pStudentId)) THEN
        INSERT INTO tmp_student_exist(student_id) VALUES (pStudentId);
    ELSE
        INSERT INTO users(email, password, first_name, last_name, gender, avatar, role, status, student_id)
        VALUES (pEmail, pPassword, IFNULL(pFirstName, ''), IFNULL(pLastName, ''), IFNULL(pGender, 'other'),
                avatar_male, 'STUDENT', 'ACTIVE', pStudentId);
    END IF;
END
//
